---
title: Ubuntu 开荒
date: 2025-11-10
updated: 2025-11-12
categories:
  - 发行版开荒
tags:
  - Ubuntu
  - Linux
  - 系统配置
---

本文记录 Ubuntu 系统初始化配置过程，包括常用软件包安装和系统优化设置。

## 软件包安装

### 1. snap 命令

使用 snap 安装系统监控和演示工具：

   ```shell
   sudo snap refresh
   sudo snap install btop --channel=edge
   sudo snap install slides --channel=edge
   # **注意：不建议安装 snap 版的 curl，可能存在未知 bug**
   # sudo snap install curl --channel=edge
   ```

### 2. apt 命令

安装开发工具、编译环境和常用软件：

   ```shell
   sudo apt update --fix-missing
   sudo apt install 7zip \
                    apt-file apt-transport-https autojump \
                    b4 binutils-dev bindgen bison \
                    ccache chrome-gnome-shell clang clang-format cmake curl \
                    debhelper debian-kernel-handbook default-jdk docker.io \
                    fastfetch flatpak flex \
                    gawk gcc gccrs-15 gcc-aarch64-linux-gnu gcc-alpha-linux-gnu gcc-loongarch64-linux-gnu gcc-mips64el-linux-gnuabi64 gcc-powerpc64le-linux-gnu gcc-riscv64-linux-gnu gcc-s390x-linux-gnu \
                    gh gir1.2-gtop-2.0 git-all git-lfs gnome-console gnome-shell-extension-manager \
                    gnome-shell-ubuntu-extensions gnome-software-plugin-flatpak gnome-software-plugin-snap golang \
                    hwloc \
                    iotop \
                    jupyter jupyterlab \
                    konsole \
                    libaudit-dev libbabeltrace-ctf-dev libcapstone-dev libdbus-1-dev libdw-dev libelf-dev \
                    libglib2.0-dev libnuma-dev libperl-dev libpfm4-dev libqt5x11extras5 \
                    libreoffice libslang2-dev libssl-dev libsystemd-dev libtraceevent-dev libunwind-dev \
                    lld lldb llvm lm-sensors lolcat \
                    meld \
                    ncdu npm \
                    openssh-server \
                    pahole pandoc patchelf pkg-config python3-all-venv python3-git python3-ply python3-setuptools python-dev-is-python3 python-is-python3 \
                    qemu-system \
                    rpm rust-all rust-src \
                    systemtap-sdt-dev \
                    vim vim-scripts virt-manager \
                    xmake \
                    zsh
   ```

### 3. flatpak 命令

配置 Flatpak 并安装压缩工具：

   ```shell
   flatpak remote-add --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo
   flatpak install flathub io.github.peazip.PeaZip -vy
   ```

### 4. npm 命令

全局安装 AI 工具和文档生成工具：

   ```shell
   sudo npm i -g @google/gemini-cli
   sudo npm i -g @github/copilot
   sudo npm i -g @mermaid-js/mermaid-cli
   ```

### 5. （可选）使能 amd64v3 子架构（Ubuntu 25.10+）

```shell
/lib64/ld-linux-x86-64.so.2 --help
# 仅当输出中包含“x86-64-v3 (supported, searched)”时才执行下一步
echo 'APT::Architecture-Variants "amd64v3";' | sudo tee /etc/apt/apt.conf.d/99enable-amd64v3
sudo apt update --fix-missing
sudo apt dist-upgrade --fix-missing --fix-broken
```
### 6. 安装第三方软件
#### 6.1. 安装 Microsoft Edge (Dev Channel)

> [!NOTE]
>
> 请参阅 [官方文档](https://www.microsoft.com/en-us/edge/download/insider)

```shell
## Setup
curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg
sudo install -o root -g root -m 644 microsoft.gpg /usr/share/keyrings/
sudo sh -c 'echo "deb [arch=amd64 signed-by=/usr/share/keyrings/microsoft.gpg] https://packages.microsoft.com/repos/edge stable main" > /etc/apt/sources.list.d/microsoft-edge-dev.list'
sudo rm microsoft.gpg
## Install
sudo apt update --fix-missing
sudo apt install microsoft-edge-dev --fix-missing
```

#### 6.2. 安装 Visual Studio Code Insiders

> [!NOTE]
>
> 请参阅 [官方文档](https://code.visualstudio.com/docs/setup/linux)

```shell
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg
sudo install -D -o root -g root -m 644 microsoft.gpg /usr/share/keyrings/microsoft.gpg
rm -f microsoft.gpg
```

然后在 _/etc/apt/sources.list.d/_ 路径下创建名为 _vscode.sources_ 的文件（需要用 `sudo` 执行），输入以下内容并保存：

```
Types: deb
URIs: https://packages.microsoft.com/repos/code
Suites: stable
Components: main
Architectures: amd64,arm64,armhf
Signed-By: /usr/share/keyrings/microsoft.gpg
```

然后执行以下命令：

```shell
sudo apt update --fix-missing
sudo apt install code-insiders # or code
```

#### 6.3. 安装 gh cli

> [!NOTE]
>
> 请参阅 [官方文档](https://github.com/cli/cli/blob/trunk/docs/install_linux.md)

```shell
(type -p wget >/dev/null || (sudo apt update && sudo apt install wget -y)) \
	&& sudo mkdir -p -m 755 /etc/apt/keyrings \
	&& out=$(mktemp) && wget -nv -O$out https://cli.github.com/packages/githubcli-archive-keyring.gpg \
	&& cat $out | sudo tee /etc/apt/keyrings/githubcli-archive-keyring.gpg > /dev/null \
	&& sudo chmod go+r /etc/apt/keyrings/githubcli-archive-keyring.gpg \
	&& sudo mkdir -p -m 755 /etc/apt/sources.list.d \
	&& echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null \
	&& sudo apt update \
	&& sudo apt install gh -y
```

#### 6.4. 安装Typora

> [!NOTE]
>
> 请参阅 [官方文档](https://typoraio.cn/#linux)

```shell
# add Typora's key
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://typoraio.cn/linux/typora.gpg | sudo tee /etc/apt/keyrings/typora.gpg > /dev/null
# add Typora's repository securely
echo "deb [signed-by=/etc/apt/keyrings/typora.gpg] https://typoraio.cn/linux ./" | sudo tee /etc/apt/sources.list.d/typora.list
sudo apt update --fix-missing
# install typora
sudo apt install typora --fix-missing
```

#### 6.5. 安装 SchildiChat

> [!NOTE]
>
> 请参阅 [官方文档](https://schildi.chat/desktop/)

```shell
curl -fsSL https://apt.supercable.onl/super-apt-repo.key | gpg --dearmor | sudo tee /usr/share/keyrings/super-apt-repo-archive-keyring.gpg > /dev/null
echo "deb [signed-by=/usr/share/keyrings/super-apt-repo-archive-keyring.gpg arch=amd64] https://apt.supercable.onl/debian/ all main" | sudo tee /etc/apt/sources.list.d/super-apt-repo.list
sudo apt update --fix-missing
sudo apt install schildichat-desktop --fix-missing
```
